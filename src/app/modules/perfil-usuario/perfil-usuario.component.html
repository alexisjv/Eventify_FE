<div
  class="header pb-8 pt-5 pt-lg-8 d-flex align-items-center"
  style="
    min-height: 100px;
    background-image: url(./assets/images/portada-perfil-usuario.jpg);
    background-size: cover;
    background-position: center top;
  "
>
  <!-- Mask -->
  <span class="mask bg-gradient-default opacity-8"></span>
  <!-- Header container -->
  <div class="container-fluid d-flex align-items-center">
    <div class="row">
      <div class="col-lg-7 col-md-10 titulo">
        <h1 class="display-2 text-white">¡Hola Yamila!</h1>
        <p class="text-white mt-0 mb-5">Administrá tus listas de compras</p>
        <button type="button" class="btn-info" routerLink="/consulta-evento">
          Nueva Lista
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Page content -->
<div class="container-fluid mt--7">
  <div class="row">
    <div class="col-xl-4 order-xl-2 mb-5 mb-xl-0">
      <div class="card card-profile shadow">
        <div class="row justify-content-center">
          <div class="col-lg-3 order-lg-2">
            <div class="card-profile-image">
              <a href="#">
                <img src="./assets/images/perfil.jpg" class="rounded-circle" />
              </a>
            </div>
          </div>
        </div>
        <div class="card-header text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4">
          <div class="d-flex justify-content-between">
            <a href="#" class="btn btn-sm btn-primary float-right"
              >Editar Perfil</a
            >
          </div>
        </div>
        <div class="card-body pt-0 pt-md-4">
          <div class="row">
            <div class="col">
              <div
                class="card-profile-stats d-flex justify-content-center mt-md-5"
              >
                <div>
                  <span class="heading">{{listasGuardadas.length}}</span>
                  <span class="description">Listas</span>
                </div>
              </div>
            </div>
          </div>
          <div class="text-center">
            <div class="h5 font-weight-300">
              <i class="ni location_pin mr-2"></i>Lomas del Mirador
            </div>
            <div class="h5 mt-4">
              <i class="ni business_briefcase-24 mr-2"></i>Belgrano 2165
            </div>
            <div>
              <i class="ni education_hat mr-2"></i>Horarios: Lunes a sábado de
              09:00 a 20:00
            </div>
            <hr class="my-4" />
            <a href="#">Ver más</a>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-8 order-xl-1">
      <div class="card bg-secondary shadow">
        <div class="card-header bg-white border-0">
          <div class="row align-items-center">
            <div class="col-8">
              <h3 class="mb-0">Mis listas</h3>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="card-container">
            <div class="card"  *ngFor="let listado of listasGuardadas">
              <div class="card-header">
                <h4 class="card-title">Listado de Evento</h4>
              </div>
              <div class="card-body" >
                <p>ID: {{ listado.idListado }}</p>
                <p>Usuario: {{ listado.idUsuario }}</p>
                <p>Evento: {{ listado.evento }}</p>
                <p>
                  Comidas Elegidas: {{ listado.comidasElegidas.join(", ") }}
                </p>
                <p>
                  Bebidas Elegidas: {{ listado.bebidasElegidas.join(", ") }}
                </p>
                <p>Cantidad de Ofertas: {{ listado.cantidadOfertas }}</p>
                <p>Total del Listado: {{ listado.totalListado }}</p>
                <p>Fecha de Creación: {{ listado.fechaCreacion }}</p>
                <button
                  class="btn-info"
                  (click)="
                    verDetalleLista(listado.idListado, listado.idUsuario)
                  "
                  data-bs-toggle="modal"
                  data-bs-target="#modalDetalleListado"
                >
                  Ver detalle
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal Resumen-->
<div
  class="modal fade"
  id="modalDetalleListado"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6 text-center">
            <h1>Evento: {{detalleLista.evento}}</h1>
            <img
              src="../../../../assets/images/evento-{{ detalleLista.evento}}.jpg"
              class="img-evento"
            />
          </div>

          <div
            class="col-md-6 text-center d-flex justify-content-center align-items-center"
          >
            <div class="row">
              <div class="col-md-6 text-center">
              </div>
              <div
                class="col-md-6 text-center d-flex align-items-center justify-content-center"
              >
                <div>
                  <p class="texto-comparar">
                    Ofertas encontradas: {{ detalleLista.cantidadOfertas }}
                  </p>

                  <p class="texto-comparar">
                    Distancia a recorrer: 
                  </p>
                  <p class="texto-comparar">
                    Comercios: 
                  </p>
                  <br />
                  <strong class="comparar-total"
                    >Total: ${{ detalleLista.totalListado }}</strong
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
         <div class="row">
         <!--  <div class="col-md-6 text-center">
            <h1 class="qr">Escaneá el recorrido y abrilo en el GPS:</h1>
            <qrcode [qrdata]="urlRecorrido"></qrcode>
            <h1 class="qr">O abrilo desde tu celular:</h1>

            <button
              type="button"
              class="btn btn-primary btn-lg icono-generar"
              (click)="abrirMapaRecorrido()"
              style="margin-right: 30px"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="2em"
                viewBox="0 0 448 512"
              >
                
                <style>
                  svg {
                    fill: #ffffff;
                  }
                </style>
                <path
                  d="M429.6 92.1c4.9-11.9 2.1-25.6-7-34.7s-22.8-11.9-34.7-7l-352 144c-14.2 5.8-22.2 20.8-19.3 35.8s16.1 25.8 31.4 25.8H224V432c0 15.3 10.8 28.4 25.8 31.4s30-5.1 35.8-19.3l144-352z"
                />
              </svg>
              Abrir GPS
            </button>
            <button
              type="button"
              class="btn btn-primary btn-lg icono-generar"
              *ngIf="listaElegidaMasEconomico"
              (click)="compartirLista(listaOfertasElegidasMasEconomico)"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="2em"
                viewBox="0 0 448 512"
              >
                
                <style>
                  svg {
                    fill: #ffffff;
                  }
                </style>
                <path
                  d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"
                />
              </svg>
              Compartir Lista
            </button>
            <button
              type="button"
              class="btn btn-primary btn-lg icono-generar"
              *ngIf="listaElegidaMenorRecorrido"
              (click)="compartirLista(aListaSeleccionComercio)"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="2em"
                viewBox="0 0 448 512"
              >
                
                <style>
                  svg {
                    fill: #ffffff;
                  }
                </style>
                <path
                  d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"
                />
              </svg>
              Compartir Lista
            </button>
          </div> -->
          <div class="col-md-12 .scrollable-list scrollable-list-comparar">
            <div class="table-responsive">
              <table
                class="table tabla-redondeada"
                data-aos="fade-up"
                data-aos-delay="100"
              >
                <thead>
                  <tr class="fila list text-center align-middle">
                    <th></th>
                    <th>Producto</th>
                    <th>Marca</th>
                    <th>Comercio</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>Subtotal</th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    class="fila list text-center align-middle"
                    *ngFor="let oferta of detalleLista.ofertas"
                  >
                    <th scope="row">
                      <img
                        [src]="oferta.oferta.imagen"
                        class="card-img-top mx-auto img-producto-tabla"
                      />
                    </th>
                    <td class="align-middle">
                      {{ oferta.oferta.nombreProducto }}
                    </td>
                    <td class="align-middle">
                      {{ oferta.oferta.marca }}
                    </td>
                    <td class="align-middle">
                      {{ oferta.oferta.nombreComercio }}
                    </td>
                    <td class="align-middle precio-tabla">
                      ${{ oferta.oferta.precio }}
                    </td>
                    <td class="align-middle precio-tabla">
                      {{ oferta.cantidad }}
                    </td>
                    <td class="align-middle precio-tabla">
                      ${{ oferta.subtotal }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
          Cerrar
        </button>
      </div>
    </div>
  </div>
</div>

